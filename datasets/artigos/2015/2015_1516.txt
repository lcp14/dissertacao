efficient computation family component tree
