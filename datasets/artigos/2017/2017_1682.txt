wave tier k query process algorithm
