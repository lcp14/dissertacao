generalize enhance array construction memory
