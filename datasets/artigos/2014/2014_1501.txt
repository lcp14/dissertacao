solve allocation problem smooth approach
